com.socrata.spandex {
  analysis {
    enabled = true
    lucene-version = "6.6.0"
    max-input-length = 64
    max-shingle-length = 32
  }

  elastic-search {
    mappings {
      field-value {
        mapping-type="field_value"
        mapping-properties="""{
          "_all": {
            "enabled": false
          },
          "properties": {
            "column_id": {
              "type": "long"
            },
            "composite_id": {
              "type": "keyword"
            },
            "copy_number": {
              "type": "long"
            },
            "dataset_id": {
              "type": "keyword"
            },
            "row_id": {
              "type": "long"
            },
            "raw_value": {
              "type": "keyword"
            },
            "suggest": {
              "type": "completion",
              "analyzer": "case_insensitive_word",
              "preserve_separators": false,
              "preserve_position_increments": false,
              "max_input_length": 50,
              "contexts": [
                {
                  "name": "composite_id",
                  "type": "category",
                  "path": "composite_id"
                }
              ]
            }
          }
        }"""
       }
    }
  }
}
